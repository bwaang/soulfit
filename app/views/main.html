<div>
  <div class="jumbotron">
    <h1>SoulFit Challenge</h1>
    <p class="lead">
      <img ng-src="images/soulfit-challenge.jpg" alt="SoulFit" width="100px"><br />
      Testing Sandbox
    </p>
    <p><a class="btn btn-lg btn-success" ng-href="#/">I'm in! <span class="glyphicon glyphicon-thumbs-up"></span></a></p>
  </div>

  <div class="row">
    <div class="col-lg-4" ng-repeat="category in categories">
      <img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image">
      <h2>{{ category.name }}</h2>
      <p>{{ category.description }}</p>
      <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
    </div>
  </div><!-- /.row -->

  <div class="row ct-chart-bar ct-golden-section"></div>
  <div class="row ct-chart-animate ct-golden-section"></div>
  <div class="row ct-chart ct-octave"></div>
  <div class="row ct-chart-pie ct-golden-section"></div>

  <div class="row">
    <div class="col-lg-16 col-sm-16">
        <div class="control">
            <label for="progress">Complete (%)</label>
            <input type="range" min="0" max="100" step="1" ng-model="progress" id="progress" />
            <span>{{ progress | number: 2 }}</span>
        </div>
    </div>
  </div>

  <div class="row marketing">
    <h4>{{ sampleSoul.name }}</h4>
    <p>{{ sampleSoul.getBooks()[0].getPagesRead() }} {{  }}pages read for <strong>{{ sampleSoul.getBooks()[0].title }} of {{ sampleSoul.getBooks()[0].getTotalPages() }}</strong></p>

    <div class="progress">
      <div class="progress-bar progress-bar-success active progress-bar-striped" role="progressbar" aria-valuenow="{{ progress }}" aria-valuemin="0" aria-valuemax="{{ sampleSoul.getBooks()[0].getTotalPages() }}" style="width: {{ progress }}%">
        <span class="sr-only">{{ progress }}% Complete</span>
      </div>
    </div>

    <button ng-click="sampleSoul.getBooks()[0].setPagesRead(sampleSoul.getBooks()[0].getPagesRead() + 9); progress = sampleSoul.getBooks()[0].getProgress() * 100;">Increase Pages Read</button>
    <button ng-click="sampleSoul.getBooks()[0].setPagesRead(0); progress = 0;">Reset</button>
  </div>

<!-- This is for debugging purposes
  <div class="row marketing" ng-repeat="soul in souls">
    <h4>{{ soul.name }}</h4>
    <p>{{ soul.verses }}</p>
  </div>
<pre>
  {{ souls | json }}
</pre>
-->


  <!-- Chartist:: inline demo js -->
  <script type="text/javascript">
    var piedata = {
      labels: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],
      series: [2, 3, 4, 3, 2, 3, 5, 8, 9, 8, 6, 5]
    }

    var chartdata = {
      labels: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],
      series: [
        [2, 3, 4, 3, 2, 3, 5, 8, 9, 8, 6, 5],
        [0, 1, 2, 4, 3, 2, 2, 4, 7, 9, 8, 7],
        [1, 2, 3, 2, 1, 2, 3, 3, 4, 6, 4, 3]
      ]
    };

    var chartoptions = {
      seriesBarDistance: 30,
      stackBars: false,
      showArea: true,
      lineSmooth: true,
      showPoint: false,
      axisX: {
        showGrid: true
      },
      axisY: {
        scaleMinSpace: 30
      }
    };

    var pieoptions = {
      donut: true,
      donutWidth: 60
    }

    var chartAni = new Chartist.Line('.ct-chart-animate', chartdata);
    var chartBar = new Chartist.Bar('.ct-chart-bar', chartdata, chartoptions);
    var chartLine = new Chartist.Line('.ct-chart', chartdata, chartoptions);
    var chartPie = new Chartist.Pie('.ct-chart-pie', piedata, pieoptions);

    // Let's put a sequence number aside so we can use it in the event callbacks
    var seq = 0,
      delays = 80,
      durations = 500;

    // Once the chart is fully created we reset the sequence
    chartAni.on('created', function() {
      seq = 0;
    });

    // On each drawn element by Chartist we use the Chartist.Svg API to trigger SMIL animations
    chartAni.on('draw', function(data) {
      seq++;

      if(data.type === 'line') {
        // If the drawn element is a line we do a simple opacity fade in. This could also be achieved using CSS3 animations.
        data.element.animate({
          opacity: {
            // The delay when we like to start the animation
            begin: seq * delays + 1000,
            // Duration of the animation
            dur: durations,
            // The value where the animation should start
            from: 0,
            // The value where it should end
            to: 1
          }
        });
      } else if(data.type === 'label' && data.axis === 'x') {
        data.element.animate({
          y: {
            begin: seq * delays,
            dur: durations,
            from: data.y + 100,
            to: data.y,
            // We can specify an easing function from Chartist.Svg.Easing
            easing: 'easeOutQuart'
          }
        });
      } else if(data.type === 'label' && data.axis === 'y') {
        data.element.animate({
          x: {
            begin: seq * delays,
            dur: durations,
            from: data.x - 100,
            to: data.x,
            easing: 'easeOutQuart'
          }
        });
      } else if(data.type === 'point') {
        data.element.animate({
          x1: {
            begin: seq * delays,
            dur: durations,
            from: data.x - 10,
            to: data.x,
            easing: 'easeOutQuart'
          },
          x2: {
            begin: seq * delays,
            dur: durations,
            from: data.x - 10,
            to: data.x,
            easing: 'easeOutQuart'
          },
          opacity: {
            begin: seq * delays,
            dur: durations,
            from: 0,
            to: 1,
            easing: 'easeOutQuart'
          }
        });
      } else if(data.type === 'grid') {
        // Using data.axis we get x or y which we can use to construct our animation definition objects
        var pos1Animation = {
          begin: seq * delays,
          dur: durations,
          from: data[data.axis.units.pos + '1'] - 30,
          to: data[data.axis.units.pos + '1'],
          easing: 'easeOutQuart'
        };

        var pos2Animation = {
          begin: seq * delays,
          dur: durations,
          from: data[data.axis.units.pos + '2'] - 100,
          to: data[data.axis.units.pos + '2'],
          easing: 'easeOutQuart'
        };

        var animations = {};
        animations[data.axis.units.pos + '1'] = pos1Animation;
        animations[data.axis.units.pos + '2'] = pos2Animation;
        animations['opacity'] = {
          begin: seq * delays,
          dur: durations,
          from: 0,
          to: 1,
          easing: 'easeOutQuart'
        };

        data.element.animate(animations);
      }
    });
  </script>

  <!-- Chartist:: inline demo css -->
  <style type="text/css">

  @keyframes width-pulse {
  0% {
    stroke-width: 6px
  }
  50% {
    stroke-width: 14px;
  }
  100% {
    stroke-width: 6px;
    }
  }
  @keyframes dashoffset-seven {
    0% {
      stroke-dashoffset: 7px;
    }
    100% {
      stroke-dashoffset: 0px;
    }
  }
  @keyframes dasharray-craziness {
    0% {
      stroke-dasharray: 7px 2px;
    }
    80% {
      stroke-dasharray: 7px 100px;
      stroke-width: 10px
    }
    100% {
      stroke-dasharray: 7px 2px;
    }
  }
  .ct-chart .ct-label.ct-vertical,
  .ct-chart .ct-label.ct-horizontal {
    color: rgba(255, 255, 255, 0.5);
  }
  .ct-chart .ct-grid.ct-vertical,
  .ct-chart .ct-grid.ct-horizontal {
    stroke: rgba(255, 255, 255, 0.1);
    stroke-dasharray: 2px;
    shape-rendering: crispEdges;
  }
  .ct-chart .ct-series.ct-series-a .ct-line {
    stroke: #4ECDC4;
    stroke-width: 10px;
    stroke-linecap: round;
    animation: width-pulse 2s infinite;
  }
  .ct-chart .ct-series.ct-series-b .ct-line {
    stroke: #C7F464;
    stroke-width: 2px;
    stroke-dasharray: 5px 2px;
    animation: dashoffset-seven 200ms infinite linear;
  }
  .ct-chart .ct-series.ct-series-c .ct-line {
    stroke: #FF6B6B;
    stroke-width: 3px;
    stroke-linecap: round;
    stroke-dasharray: 30px 5px;
    animation: dasharray-craziness 10s infinite linear;
  }

    .img-circle {
      width: 60px;
      height: 60px;
    }

    @media(min-width: 768px) {
      .img-circle {
        width: 120px;
        height: 120px;
      }
    }
  </style>

</div>
